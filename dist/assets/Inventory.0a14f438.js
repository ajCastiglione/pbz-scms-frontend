import{u as O,b as G,ah as T,c as V,q as ae,r as s,al as $,d as y,e as _,F as ne,j as t,am as se,an as re,L as oe,ao as ie,p as ce,s as P,ap as le,a7 as he,f as c,aq as ue,ar as pe,B as de,S as ye,as as ge,at as me,a8 as ve,ag as be,ai as Ce,aj as Se,ak as x}from"./index.16977692.js";const fe="_pagination_65a2m_1",Ie={pagination:fe},xe=()=>{const e=O(),g=G(),u=T(),{search:m}=V(),q=ae.parse(m),[l,L]=s.exports.useState(parseInt(q.page));s.exports.useEffect(()=>{e($(l))},[l]);const p=y(a=>Math.ceil(a.inventory.total/100)),S=y(a=>a.inventory.inventory),v=y(a=>a.inventory.loading),Q=["Edit","Name","Item #","Case Quantity","Description","Stock (Case)","Stock (Units)","Total Units","Split Case","Case Weight (pounds)","Re-order Quantity","Length (inches)","Width (inches)","Height (inches)","Ship Ready","Remove"],d=[];S.forEach(a=>{d.push({id:a.id,edit:"Edit",name:a.name,item:a.number,caseQuantity:a.case_quantity,description:a.description,stockCase:a.qoh_case,stockUnits:a.qoh_units,totalUnit:a.qoh_case*a.case_quantity+a.qoh_units,splitCase:"splitCase",caseWeight:a.case_weight,reOrder:a.reorder_quantity,length:a.length,width:a.width,height:a.height,shipReady:a.ship_ready?"Ready":"Not Ready",remove:"Remove"})});const R=(a,o)=>{g.replace(`/inventory?page=${o}`),L(o)};return _(ne,{children:[t(se,{onSearch:re,label:"Search by name",placeholder:"Enter 'name' here..."}),v?t(oe,{}):t(ie,{rows:d,headers:Q,editClicked:a=>{const k=S.filter(b=>b.id===a)[0];g.push(`${u.path}add-update/${a}`,k)},split:a=>{P.post("/inventory/split",{id:a}).then(o=>{e($(l))}).catch(o=>{window.alert(o.response.data.message)})},remove:a=>{window.confirm("Are you sure you want to delete this item?")&&P.post("/inventory/delete",{id:a}).then(o=>{e($(l))}).catch(o=>{window.alert(o.response.data.message)})}}),p>1&&t("div",{className:Ie.pagination,children:t(ce,{count:p,page:l,onChange:R,color:"primary"})})]})},_e="_Form_hb4th_1",qe={Form:_e},Le=()=>{const e=V(),g=G(),u=O(),[m,q]=s.exports.useState(e.state?e.state.name:""),[l,L]=s.exports.useState(e.state?e.state.number:""),[p,S]=s.exports.useState(e.state?e.state.case_quantity:""),[v,Q]=s.exports.useState(e.state?e.state.description:""),[d,R]=s.exports.useState(e.state?e.state.qoh_case:""),[f,B]=s.exports.useState(e.state?e.state.qoh_units:""),[I,a]=s.exports.useState(e.state?e.state.case_weight:""),[o,k]=s.exports.useState(e.state?e.state.reorder_quantity:""),[b,A]=s.exports.useState(e.state?e.state.length:""),[U,J]=s.exports.useState(e.state?e.state.width:""),[N,M]=s.exports.useState(e.state?e.state.height:""),[W,z]=s.exports.useState(e.state?e.state.ship_ready:!1),[j,Z]=s.exports.useState(e.state?e.state.pallet_location:""),[D,K]=s.exports.useState(e.state?e.state.bin_shelf_location:""),[r,w]=s.exports.useState({});s.exports.useEffect(()=>()=>{u(le())},[u]);const X=n=>{n.preventDefault();const C=Y();if(Object.keys(C).length){w(C);return}else w({});let h={name:m,number:l,case_quantity:parseInt(p),description:v,qoh_case:parseInt(d),qoh_units:parseInt(f),case_weight:parseInt(I),reorder_quantity:parseInt(o),length:b===""?0:parseInt(b),width:U===""?0:parseInt(U),height:N===""?0:parseInt(N),pallet_location:j,bin_shelf_location:D,ship_ready:W};e.state?(h={...h,id:e.state.id},u(ge(h))):u(me(h))},Y=()=>{const n={};return m===""&&(n.name=!0),l===""&&(n.number=!0),p===""&&(n.caseQuantity=!0),v===""&&(n.desc=!0),d===""&&(n.quantityCase=!0),f===""&&(n.quantityUnits=!0),I===""&&(n.caseWeight=!0),o===""&&(n.reorderQuantity=!0),n},ee=()=>{g.goBack()},E=y(n=>n.inventory.message),F=y(n=>n.inventory.error),te=y(n=>n.inventory.loading),i=(n,C)=>({target:{value:h}})=>{if(h!==""){C=="number"&&(h=h.replace(/[^A-Za-z0-9]/gi,""));const H=JSON.parse(JSON.stringify(r));delete H[C],w(H)}n(h)};return t("div",{children:t(he,{width:"100%",display:"flex",justifyContent:"center",p:2,children:_("form",{onSubmit:X,className:qe.Form,children:[t("h1",{children:"Create Inventory"}),t(c,{width:"6",label:"Item Name",value:m,onChange:i(q,"name"),...r.name&&{error:!0}}),t(c,{label:"Item Number",value:l,onChange:i(L,"number"),...r.number&&{error:!0}}),t(c,{label:"Case Quantity",value:p,onChange:i(S,"caseQuantity"),type:"number",...r.caseQuantity&&{error:!0}}),t(c,{label:"Unit Description",value:v,onChange:i(Q,"desc"),...r.desc&&{error:!0}}),t(c,{label:"Quantity - Case",value:d,onChange:i(R,"quantityCase"),type:"number",...r.quantityCase&&{error:!0}}),t(c,{label:"Quantity - Units",value:f,onChange:i(B,"quantityUnits"),type:"number",...r.quantityUnits&&{error:!0}}),t(c,{label:"Case Weight (pounds)",value:I,onChange:i(a,"caseWeight"),type:"number",...r.caseWeight&&{error:!0}}),t(c,{label:"Re-order Quantity",value:o,onChange:i(k,"reorderQuantity"),type:"number",...r.reorderQuantity&&{error:!0}}),t(c,{label:"Length (inches)",value:b,onChange:i(A,"length"),type:"number",...r.length&&{error:!0}}),t(c,{label:"Width (inches)",value:U,onChange:i(J,"width"),type:"number",...r.width&&{error:!0}}),t(c,{label:"Height (inches)",value:N,onChange:i(M,"height"),type:"number",...r.height&&{error:!0}}),t(c,{label:"Pallet Location",value:j,onChange:i(Z,"palletLocation"),type:"text",...r.palletLocation&&{error:!0}}),t(c,{label:"Bin/Shelf Location",value:D,onChange:i(K,"binShelfLocation"),type:"text",...r.binShelfLocation&&{error:!0}}),t(ue,{control:t(pe,{name:"checkedB",color:"primary",onChange:()=>z(!W),checked:W}),label:"Ship Ready"}),E!==""&&t("p",{style:{color:"green"},children:E}),F!==""&&t("p",{style:{color:"red"},children:F}),E||F?t("p",{style:{cursor:"pointer",color:"blue"},onClick:ee,children:"Go back"}):null,t(de,{variant:"contained",color:"primary",type:"submit",children:te?t(ye,{}):"Submit"})]})})})},Qe=()=>t(ve,{link:"/inventory/import",importLabel:"Inventory File (csv)",redirectPath:"/inventory?page=1",redirectLabel:"Go to Inventory"}),Re=()=>t(be,{path:"/inventory/history"}),Ue=()=>{const e=T();return _("div",{children:[t(Ce,{subRoutes:[{name:"Inventory",path:"/?page=1"},{name:"Create new inventory Item",path:"/add-update/null"},{name:"Import Inventory",path:"/import"},{name:"Upload History",path:"/history"}]}),_(Se,{children:[t(x,{path:`${e.path}/`,component:xe,exact:!0}),t(x,{path:`${e.path}/add-update/:id`,component:Le,exact:!0}),t(x,{path:`${e.path}/import`,component:Qe,exact:!0}),t(x,{path:`${e.path}/history`,component:Re,exact:!0})]})]})};export{Ue as default};
