import{u as H,b as O,ah as P,c as G,q as Y,r as s,al as $,d as m,e as q,F as ee,j as t,am as te,an as ae,L as ne,ao as se,p as re,s as D,ap as oe,R as T,a7 as ie,f as c,aq as ce,ar as ue,B as he,S as le,as as pe,at as de,a8 as ye,ag as me,ai as ge,aj as ve,ak as x}from"./index.cca71b22.js";const be="_pagination_65a2m_1",Ce={pagination:be},Ie=()=>{const e=H(),l=O(),p=P(),{search:g}=G(),_=Y.parse(g),[u,Q]=s.exports.useState(parseInt(_.page));s.exports.useEffect(()=>{e($(u))},[u]);const d=m(a=>Math.ceil(a.inventory.total/10)),I=m(a=>a.inventory.inventory),v=m(a=>a.inventory.loading),R=["Edit","Name","Item #","Case Quantity","Description","Stock (Case)","Stock (Units)","Total Units","Split Case","Case Weight (pounds)","Re-order Quantity","Length (inches)","Width (inches)","Height (inches)","Ship Ready","Remove"],y=[];I.forEach(a=>{y.push({id:a.id,edit:"Edit",name:a.name,item:a.number,caseQuantity:a.case_quantity,description:a.description,stockCase:a.qoh_case,stockUnits:a.qoh_units,totalUnit:a.qoh_case*a.case_quantity+a.qoh_units,splitCase:"splitCase",caseWeight:a.case_weight,reOrder:a.reorder_quantity,length:a.length,width:a.width,height:a.height,shipReady:a.ship_ready?"Ready":"Not Ready",remove:"Remove"})});const k=(a,r)=>{l.replace(`/inventory?page=${r}`),Q(r)};return q(ee,{children:[t(te,{onSearch:ae,label:"Search by name",placeholder:"Enter 'name' here..."}),v?t(ne,{}):t(se,{rows:y,headers:R,editClicked:a=>{const U=I.filter(b=>b.id===a)[0];l.push(`${p.path}add-update/${a}`,U)},split:a=>{D.post("/inventory/split",{id:a}).then(r=>{e($(u))}).catch(r=>{window.alert(r.response.data.message)})},remove:a=>{window.confirm("Are you sure you want to delete this item?")&&D.post("/inventory/delete",{id:a}).then(r=>{e($(u))}).catch(r=>{window.alert(r.response.data.message)})}}),d>1&&t("div",{className:Ce.pagination,children:t(re,{count:d,page:u,onChange:k,color:"primary"})})]})},Se="_Form_43shk_1",fe={Form:Se},xe=()=>{const e=G(),l=O(),p=H(),[g,_]=s.exports.useState(e.state?e.state.name:""),[u,Q]=s.exports.useState(e.state?e.state.number:""),[d,I]=s.exports.useState(e.state?e.state.case_quantity:""),[v,R]=s.exports.useState(e.state?e.state.description:""),[y,k]=s.exports.useState(e.state?e.state.qoh_case:""),[S,j]=s.exports.useState(e.state?e.state.qoh_units:""),[f,a]=s.exports.useState(e.state?e.state.case_weight:""),[r,U]=s.exports.useState(e.state?e.state.reorder_quantity:""),[b,V]=s.exports.useState(e.state?e.state.length:""),[E,A]=s.exports.useState(e.state?e.state.width:""),[N,J]=s.exports.useState(e.state?e.state.height:""),[F,M]=s.exports.useState(e.state?e.state.ship_ready:!1),[o,W]=s.exports.useState({});s.exports.useEffect(()=>()=>{p(oe())},[p]);const z=n=>{n.preventDefault();const C=Z();if(Object.keys(C).length){W(C);return}else W({});let h={name:g,number:u,case_quantity:parseInt(d),description:v,qoh_case:parseInt(y),qoh_units:parseInt(S),case_weight:parseInt(f),reorder_quantity:parseInt(r),length:b===""?0:parseInt(b),width:E===""?0:parseInt(E),height:N===""?0:parseInt(N),ship_ready:F};e.state?(h={...h,id:e.state.id},p(pe(h))):p(de(h))},Z=()=>{const n={};return g===""&&(n.name=!0),u===""&&(n.number=!0),d===""&&(n.caseQuantity=!0),v===""&&(n.desc=!0),y===""&&(n.quantityCase=!0),S===""&&(n.quantityUnits=!0),f===""&&(n.caseWeight=!0),r===""&&(n.reorderQuantity=!0),n},K=()=>{l.goBack()},w=m(n=>n.inventory.message),L=m(n=>n.inventory.error),X=m(n=>n.inventory.loading),i=(n,C)=>({target:{value:h}})=>{if(h!==""){C=="number"&&(h=h.replace(/[^A-Za-z0-9]/ig,""));const B=JSON.parse(JSON.stringify(o));delete B[C],W(B)}n(h)};return t(T.Fragment,{children:t(ie,{width:"100%",display:"flex",justifyContent:"center",p:2,children:q("form",{onSubmit:z,className:fe.Form,children:[t("h1",{children:"Create Inventory"}),t(c,{width:"6",label:"Item Name",value:g,onChange:i(_,"name"),...o.name&&{error:!0}}),t(c,{label:"Item Number",value:u,onChange:i(Q,"number"),...o.number&&{error:!0}}),t(c,{label:"Case Quantity",value:d,onChange:i(I,"caseQuantity"),type:"number",...o.caseQuantity&&{error:!0}}),t(c,{label:"Unit Description",value:v,onChange:i(R,"desc"),...o.desc&&{error:!0}}),t(c,{label:"Quantity - Case",value:y,onChange:i(k,"quantityCase"),type:"number",...o.quantityCase&&{error:!0}}),t(c,{label:"Quantity - Units",value:S,onChange:i(j,"quantityUnits"),type:"number",...o.quantityUnits&&{error:!0}}),t(c,{label:"Case Weight (pounds)",value:f,onChange:i(a,"caseWeight"),type:"number",...o.caseWeight&&{error:!0}}),t(c,{label:"Re-order Quantity",value:r,onChange:i(U,"reorderQuantity"),type:"number",...o.reorderQuantity&&{error:!0}}),t(c,{label:"Length (inches)",value:b,onChange:i(V,"length"),type:"number",...o.length&&{error:!0}}),t(c,{label:"Width (inches)",value:E,onChange:i(A,"width"),type:"number",...o.width&&{error:!0}}),t(c,{label:"Height (inches)",value:N,onChange:i(J,"height"),type:"number",...o.height&&{error:!0}}),t(ce,{control:t(ue,{name:"checkedB",color:"primary",onChange:()=>M(!F),checked:F}),label:"Ship Ready"}),w!==""&&t("p",{style:{color:"green"},children:w}),L!==""&&t("p",{style:{color:"red"},children:L}),w||L?t("p",{style:{cursor:"pointer",color:"blue"},onClick:K,children:"Go back"}):null,t(he,{variant:"contained",color:"primary",type:"submit",children:X?t(le,{}):"Submit"})]})})})},qe=()=>t(ye,{link:"/inventory/import",importLabel:"Inventory File (csv)",redirectPath:"/inventory?page=1",redirectLabel:"Go to Inventory"}),_e=()=>t(me,{path:"/inventory/history"}),Re=()=>{const e=P(),l=[{name:"Inventory",path:"/?page=1"},{name:"Create new inventory Item",path:"/add-update/null"},{name:"Import Inventory",path:"/import"},{name:"Upload History",path:"/history"}];return q(T.Fragment,{children:[t(ge,{subRoutes:l}),q(ve,{children:[t(x,{path:`${e.path}/`,component:Ie,exact:!0}),t(x,{path:`${e.path}/add-update/:id`,component:xe,exact:!0}),t(x,{path:`${e.path}/import`,component:qe,exact:!0}),t(x,{path:`${e.path}/history`,component:_e,exact:!0})]})]})};export{Re as default};
