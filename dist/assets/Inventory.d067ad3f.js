import{u as H,b as O,ah as P,c as G,q as X,r as s,al as $,d as y,e as q,F as Y,j as t,am as ee,an as te,L as ae,ao as ne,p as se,s as D,ap as re,a7 as oe,f as c,aq as ie,ar as ce,B as ue,S as he,as as le,at as pe,a8 as de,ag as ye,ai as me,aj as ge,ak as x}from"./index.f735bb0e.js";const ve="_pagination_65a2m_1",be={pagination:ve},Ce=()=>{const e=H(),m=O(),l=P(),{search:g}=G(),_=X.parse(g),[u,Q]=s.exports.useState(parseInt(_.page));s.exports.useEffect(()=>{e($(u))},[u]);const p=y(a=>Math.ceil(a.inventory.total/100)),I=y(a=>a.inventory.inventory),v=y(a=>a.inventory.loading),R=["Edit","Name","Item #","Case Quantity","Description","Stock (Case)","Stock (Units)","Total Units","Split Case","Case Weight (pounds)","Re-order Quantity","Length (inches)","Width (inches)","Height (inches)","Ship Ready","Remove"],d=[];I.forEach(a=>{d.push({id:a.id,edit:"Edit",name:a.name,item:a.number,caseQuantity:a.case_quantity,description:a.description,stockCase:a.qoh_case,stockUnits:a.qoh_units,totalUnit:a.qoh_case*a.case_quantity+a.qoh_units,splitCase:"splitCase",caseWeight:a.case_weight,reOrder:a.reorder_quantity,length:a.length,width:a.width,height:a.height,shipReady:a.ship_ready?"Ready":"Not Ready",remove:"Remove"})});const k=(a,r)=>{m.replace(`/inventory?page=${r}`),Q(r)};return q(Y,{children:[t(ee,{onSearch:te,label:"Search by name",placeholder:"Enter 'name' here..."}),v?t(ae,{}):t(ne,{rows:d,headers:R,editClicked:a=>{const U=I.filter(b=>b.id===a)[0];m.push(`${l.path}add-update/${a}`,U)},split:a=>{D.post("/inventory/split",{id:a}).then(r=>{e($(u))}).catch(r=>{window.alert(r.response.data.message)})},remove:a=>{window.confirm("Are you sure you want to delete this item?")&&D.post("/inventory/delete",{id:a}).then(r=>{e($(u))}).catch(r=>{window.alert(r.response.data.message)})}}),p>1&&t("div",{className:be.pagination,children:t(se,{count:p,page:u,onChange:k,color:"primary"})})]})},Ie="_Form_43shk_1",Se={Form:Ie},fe=()=>{const e=G(),m=O(),l=H(),[g,_]=s.exports.useState(e.state?e.state.name:""),[u,Q]=s.exports.useState(e.state?e.state.number:""),[p,I]=s.exports.useState(e.state?e.state.case_quantity:""),[v,R]=s.exports.useState(e.state?e.state.description:""),[d,k]=s.exports.useState(e.state?e.state.qoh_case:""),[S,j]=s.exports.useState(e.state?e.state.qoh_units:""),[f,a]=s.exports.useState(e.state?e.state.case_weight:""),[r,U]=s.exports.useState(e.state?e.state.reorder_quantity:""),[b,T]=s.exports.useState(e.state?e.state.length:""),[N,V]=s.exports.useState(e.state?e.state.width:""),[W,A]=s.exports.useState(e.state?e.state.height:""),[w,J]=s.exports.useState(e.state?e.state.ship_ready:!1),[o,E]=s.exports.useState({});s.exports.useEffect(()=>()=>{l(re())},[l]);const M=n=>{n.preventDefault();const C=z();if(Object.keys(C).length){E(C);return}else E({});let h={name:g,number:u,case_quantity:parseInt(p),description:v,qoh_case:parseInt(d),qoh_units:parseInt(S),case_weight:parseInt(f),reorder_quantity:parseInt(r),length:b===""?0:parseInt(b),width:N===""?0:parseInt(N),height:W===""?0:parseInt(W),ship_ready:w};e.state?(h={...h,id:e.state.id},l(le(h))):l(pe(h))},z=()=>{const n={};return g===""&&(n.name=!0),u===""&&(n.number=!0),p===""&&(n.caseQuantity=!0),v===""&&(n.desc=!0),d===""&&(n.quantityCase=!0),S===""&&(n.quantityUnits=!0),f===""&&(n.caseWeight=!0),r===""&&(n.reorderQuantity=!0),n},Z=()=>{m.goBack()},F=y(n=>n.inventory.message),L=y(n=>n.inventory.error),K=y(n=>n.inventory.loading),i=(n,C)=>({target:{value:h}})=>{if(h!==""){C=="number"&&(h=h.replace(/[^A-Za-z0-9]/ig,""));const B=JSON.parse(JSON.stringify(o));delete B[C],E(B)}n(h)};return t("div",{children:t(oe,{width:"100%",display:"flex",justifyContent:"center",p:2,children:q("form",{onSubmit:M,className:Se.Form,children:[t("h1",{children:"Create Inventory"}),t(c,{width:"6",label:"Item Name",value:g,onChange:i(_,"name"),...o.name&&{error:!0}}),t(c,{label:"Item Number",value:u,onChange:i(Q,"number"),...o.number&&{error:!0}}),t(c,{label:"Case Quantity",value:p,onChange:i(I,"caseQuantity"),type:"number",...o.caseQuantity&&{error:!0}}),t(c,{label:"Unit Description",value:v,onChange:i(R,"desc"),...o.desc&&{error:!0}}),t(c,{label:"Quantity - Case",value:d,onChange:i(k,"quantityCase"),type:"number",...o.quantityCase&&{error:!0}}),t(c,{label:"Quantity - Units",value:S,onChange:i(j,"quantityUnits"),type:"number",...o.quantityUnits&&{error:!0}}),t(c,{label:"Case Weight (pounds)",value:f,onChange:i(a,"caseWeight"),type:"number",...o.caseWeight&&{error:!0}}),t(c,{label:"Re-order Quantity",value:r,onChange:i(U,"reorderQuantity"),type:"number",...o.reorderQuantity&&{error:!0}}),t(c,{label:"Length (inches)",value:b,onChange:i(T,"length"),type:"number",...o.length&&{error:!0}}),t(c,{label:"Width (inches)",value:N,onChange:i(V,"width"),type:"number",...o.width&&{error:!0}}),t(c,{label:"Height (inches)",value:W,onChange:i(A,"height"),type:"number",...o.height&&{error:!0}}),t(ie,{control:t(ce,{name:"checkedB",color:"primary",onChange:()=>J(!w),checked:w}),label:"Ship Ready"}),F!==""&&t("p",{style:{color:"green"},children:F}),L!==""&&t("p",{style:{color:"red"},children:L}),F||L?t("p",{style:{cursor:"pointer",color:"blue"},onClick:Z,children:"Go back"}):null,t(ue,{variant:"contained",color:"primary",type:"submit",children:K?t(he,{}):"Submit"})]})})})},xe=()=>t(de,{link:"/inventory/import",importLabel:"Inventory File (csv)",redirectPath:"/inventory?page=1",redirectLabel:"Go to Inventory"}),qe=()=>t(ye,{path:"/inventory/history"}),Qe=()=>{const e=P();return q("div",{children:[t(me,{subRoutes:[{name:"Inventory",path:"/?page=1"},{name:"Create new inventory Item",path:"/add-update/null"},{name:"Import Inventory",path:"/import"},{name:"Upload History",path:"/history"}]}),q(ge,{children:[t(x,{path:`${e.path}/`,component:Ce,exact:!0}),t(x,{path:`${e.path}/add-update/:id`,component:fe,exact:!0}),t(x,{path:`${e.path}/import`,component:xe,exact:!0}),t(x,{path:`${e.path}/history`,component:qe,exact:!0})]})]})};export{Qe as default};
